{"ast":null,"code":"var _jsxFileName = \"/Users/soondubu/Desktop/FitnessTrackr/src/components/Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useHistory } from 'react-router';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  REACT_APP_API_URL\n} = process.env;\n\nconst Login = ({\n  setLoggedIn,\n  setToken\n}) => {\n  _s();\n\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const history = useHistory();\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    try {\n      const response = await fetch(`${REACT_APP_API_URL}/users/login`, {\n        method: \"POST\",\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          username,\n          password\n        })\n      });\n      const data = await response.json();\n      const {\n        token,\n        user\n      } = data;\n\n      if (token) {\n        localStorage.setItem('token', token);\n        localStorage.setItem('username', user.username);\n        setToken(token);\n        setLoggedIn(true);\n        setUsername('');\n        setPassword('');\n        history.push('/');\n        return;\n      }\n\n      ;\n    } catch (error) {\n      console.error(error);\n    }\n\n    ;\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"login-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"enter username\",\n        onChange: e => setUsername(e.target.value),\n        value: username\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"password\",\n        onChange: e => setPassword(e.target.value),\n        value: password\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: password < 8,\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      children: [\"Don't have an account? Click \", /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/account/register\",\n        children: \"here\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 44\n      }, this), \" to register!\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Login, \"r+OvzGOB71OgavkK/AEIFbVQbcA=\", false, function () {\n  return [useHistory];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Users/soondubu/Desktop/FitnessTrackr/src/components/Login.js"],"names":["React","useState","Link","useHistory","REACT_APP_API_URL","process","env","Login","setLoggedIn","setToken","username","setUsername","password","setPassword","history","handleSubmit","e","preventDefault","response","fetch","method","headers","body","JSON","stringify","data","json","token","user","localStorage","setItem","push","error","console","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Link } from 'react-router-dom'\nimport { useHistory } from 'react-router';\n\nconst {REACT_APP_API_URL} = process.env;\n\nconst Login = ({ setLoggedIn, setToken }) => {\n    const [ username, setUsername ] = useState('');\n    const [ password, setPassword ] = useState('');\n    const history = useHistory();\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        try {\n            const response = await fetch(`${REACT_APP_API_URL}/users/login`, {\n                method: \"POST\",\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({username, password}),\n            })\n            const data = await response.json();\n            const { token, user } = data;\n            if (token) {\n                localStorage.setItem('token', token);\n                localStorage.setItem('username', user.username);\n                setToken(token);\n                setLoggedIn(true);\n                setUsername('');\n                setPassword('');\n                history.push('/');\n                return;\n            };\n        } catch (error) {\n            console.error(error);\n        };\n    };\n\n    return <>\n        <h2>Login</h2>\n        <form onSubmit={handleSubmit} className='login-form'>\n            <input type='text' placeholder='enter username' onChange={(e) => setUsername(e.target.value)} value={username} />\n            <input type=\"password\" placeholder=\"password\" onChange={(e) => setPassword(e.target.value)} value={password}></input>\n            <button type=\"submit\" disabled={password < 8}>Login</button>\n        </form>\n        <span>Don't have an account? Click <Link to='/account/register'>here</Link> to register!</span>\n    </>\n};\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}