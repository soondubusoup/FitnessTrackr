{"ast":null,"code":"// import React, { useState } from 'react';\n// import { Link } from 'react-router-dom'\n// import { useParams, useHistory } from 'react-router';\n// import { register, login } from '../util/index';\n// const Login = ({ fetchUserRoutines, setToken, setUserName, setUserId }) => {\n//     const [ username, setUsername ] = useState('');\n//     const [ password, setPassword ] = useState('');\n//     const [ verPass, setVerPass ] = useState('');\n//     const [ error, setError] = useState('');\n//     const params = useParams();\n//     const history = useHistory();\n//     return <> \n//         <div className='form-container'>\n//             <div className='login-header'>            \n//                 {\n//                 params.method === 'register' \n//                     ? <h3 className='header'>Register a new account</h3> \n//                     : <h3 className='header'>Login to your account</h3>\n//                 }           \n//             </div>\n//             <form className='login-form' onSubmit={async (e) =>{\n//                 e.preventDefault();\n//                 try{ \n//                     const response = await callApi ({\n//                         url: `/users/${params.method}`,\n//                         method: 'POST',\n//                         body: { username, password }                        \n//                     });\n//                     if (response.error) {\n//                         setError(response.error);\n//                     };\n//                     if (response.token) {\n//                         const { token } = response;\n//                         setToken(token);\n//                         localStorage.setItem('token', token);\n//                         const user = await callApi({ url: '/users/me', token})\n//                         if (user) {\n//                             setUserName(user.username);\n//                             localStorage.setItem('username', user.username);\n//                             setUserId(user.id)\n//                             localStorage.setItem('userId', user.id)\n//                             await fetchUserRoutines();\n//                             setUsername('');\n//                             setPassword('');\n//                             history.push('/user/routines');\n//                         }\n//                     }\n//                 } catch(error) {\n//                     console.error(error);\n//                 };                \n//             }}>\n//                 <fieldset className='input-fieldset'>\n//                     <label>User name</label>\n//                     <input \n//                         className='input-field' \n//                         type='text'\n//                         name='Login Name'\n//                         placeholder='enter your user name' \n//                         onChange={(e) => setUsername(e.target.value)}\n//                     />\n//                 </fieldset>\n//                 <fieldset className='input-fieldset'>\n//                     <label>Password</label>\n//                     <input \n//                         className='input-field' \n//                         type='password' \n//                         name='Password'\n//                         placeholder='password (min length 6 chars)' \n//                         onChange={(e) => setPassword(e.target.value)}\n//                     />\n//                 </fieldset>\n//                 {\n//                 params.method === 'register' \n//                     ? <fieldset className='input-fieldset'>\n//                         <label>Verify Password</label>\n//                             <input \n//                                 className='input-field' \n//                                 type='password' \n//                                 name='Verify Password'\n//                                 placeholder='re-enter your password' \n//                                 onChange={(e) => setVerPass(e.target.value)}\n//                             />\n//                     </fieldset>\n//                     : ''\n//                 }\n//                 {\n//                 params.method === 'register' \n//                     ? <button className='login-button' type=\"submit\" disabled={!password || !username || password.length < 8 || password !== verPass }>\n//                         Register\n//                     </button> \n//                     : <button className='login-button' type=\"submit\" disabled={!password || !username || password.length < 8 }>\n//                         Login\n//                     </button>\n//                 }\n//                 { params.method === 'register' && password !== verPass && <span className='password-alert'>Passwords must match!</span> }\n//                 { params.method === 'register' && password.length < 8 && <span className='password-alert'>Passwords must contain at least 8 characters!</span> }\n//                 { error\n//                     ? <span>{error}</span>\n//                     : null\n//                 }\n//                 {\n//                 params.method === 'register' \n//                 ? <>\n//                     <span>Already have an account yet? </span>\n//                     <Link to=\"/account/login\" className='login-link'>\n//                         Click here to log in!\n//                     </Link>\n//                 </> \n//                 : <>\n//                     <span>Already have an account yet? </span>\n//                     <Link to=\"/account/register\" className='login-link'>\n//                         Click here to register!\n//                     </Link>\n//                 </>\n//                 }\n//             </form>            \n//     </div>\n// </>\n// };\n// export default Login;","map":{"version":3,"sources":["/Users/soondubu/Desktop/FitnessTrackr/src/components/Login.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA","sourcesContent":["// import React, { useState } from 'react';\n// import { Link } from 'react-router-dom'\n// import { useParams, useHistory } from 'react-router';\n// import { register, login } from '../util/index';\n\n// const Login = ({ fetchUserRoutines, setToken, setUserName, setUserId }) => {\n//     const [ username, setUsername ] = useState('');\n//     const [ password, setPassword ] = useState('');\n//     const [ verPass, setVerPass ] = useState('');\n//     const [ error, setError] = useState('');\n//     const params = useParams();\n//     const history = useHistory();\n\n//     return <> \n//         <div className='form-container'>\n//             <div className='login-header'>            \n//                 {\n//                 params.method === 'register' \n//                     ? <h3 className='header'>Register a new account</h3> \n//                     : <h3 className='header'>Login to your account</h3>\n//                 }           \n//             </div>\n//             <form className='login-form' onSubmit={async (e) =>{\n//                 e.preventDefault();\n//                 try{ \n//                     const response = await callApi ({\n//                         url: `/users/${params.method}`,\n//                         method: 'POST',\n//                         body: { username, password }                        \n//                     });\n//                     if (response.error) {\n//                         setError(response.error);\n//                     };\n//                     if (response.token) {\n//                         const { token } = response;\n//                         setToken(token);\n//                         localStorage.setItem('token', token);\n//                         const user = await callApi({ url: '/users/me', token})\n//                         if (user) {\n//                             setUserName(user.username);\n//                             localStorage.setItem('username', user.username);\n//                             setUserId(user.id)\n//                             localStorage.setItem('userId', user.id)\n//                             await fetchUserRoutines();\n//                             setUsername('');\n//                             setPassword('');\n//                             history.push('/user/routines');\n//                         }\n//                     }\n//                 } catch(error) {\n//                     console.error(error);\n//                 };                \n//             }}>\n//                 <fieldset className='input-fieldset'>\n//                     <label>User name</label>\n//                     <input \n//                         className='input-field' \n//                         type='text'\n//                         name='Login Name'\n//                         placeholder='enter your user name' \n//                         onChange={(e) => setUsername(e.target.value)}\n//                     />\n//                 </fieldset>\n\n//                 <fieldset className='input-fieldset'>\n//                     <label>Password</label>\n//                     <input \n//                         className='input-field' \n//                         type='password' \n//                         name='Password'\n//                         placeholder='password (min length 6 chars)' \n//                         onChange={(e) => setPassword(e.target.value)}\n//                     />\n//                 </fieldset>\n\n//                 {\n//                 params.method === 'register' \n//                     ? <fieldset className='input-fieldset'>\n//                         <label>Verify Password</label>\n//                             <input \n//                                 className='input-field' \n//                                 type='password' \n//                                 name='Verify Password'\n//                                 placeholder='re-enter your password' \n//                                 onChange={(e) => setVerPass(e.target.value)}\n//                             />\n//                     </fieldset>\n//                     : ''\n//                 }\n                \n//                 {\n//                 params.method === 'register' \n//                     ? <button className='login-button' type=\"submit\" disabled={!password || !username || password.length < 8 || password !== verPass }>\n//                         Register\n//                     </button> \n//                     : <button className='login-button' type=\"submit\" disabled={!password || !username || password.length < 8 }>\n//                         Login\n//                     </button>\n//                 }\n//                 { params.method === 'register' && password !== verPass && <span className='password-alert'>Passwords must match!</span> }\n\n//                 { params.method === 'register' && password.length < 8 && <span className='password-alert'>Passwords must contain at least 8 characters!</span> }\n\n//                 { error\n//                     ? <span>{error}</span>\n//                     : null\n//                 }\n\n//                 {\n//                 params.method === 'register' \n//                 ? <>\n//                     <span>Already have an account yet? </span>\n//                     <Link to=\"/account/login\" className='login-link'>\n//                         Click here to log in!\n//                     </Link>\n//                 </> \n//                 : <>\n//                     <span>Already have an account yet? </span>\n//                     <Link to=\"/account/register\" className='login-link'>\n//                         Click here to register!\n//                     </Link>\n//                 </>\n//                 }\n//             </form>            \n//     </div>\n// </>\n// };\n\n// export default Login;"]},"metadata":{},"sourceType":"module"}