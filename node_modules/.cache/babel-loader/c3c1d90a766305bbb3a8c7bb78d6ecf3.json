{"ast":null,"code":"const {\n  REACT_APP_BASE_URL\n} = process.env;\nconst baseURL = REACT_APP_BASE_URL;\nexport const request = async ({\n  endpoint,\n  method,\n  body,\n  token\n}) => {\n  try {\n    let headers = {\n      'Content-Type': 'application/json'\n    };\n    if (token) headers['Authorization'] = `Bearer ${token}`;\n    let _request = {\n      method: method,\n      headers: headers\n    };\n    if (body) _request['body'] = JSON.stringify(body);\n    console.log(\"options\", _request);\n    const resp = await fetch(baseURL + endpoint, _request);\n    const data = await resp.json();\n    console.log('apiClient', data);\n    if (data.error) throw data.error;\n    return data ? data : null;\n  } catch (err) {\n    console.error(err);\n  } finally {}\n};\nexport const authenticate = async (endpoint, bodyData) => {\n  const data = await request({\n    endpoint: endpoint,\n    method: 'POST',\n    body: {\n      username: bodyData.username,\n      password: bodyData.password\n    }\n  });\n  return data;\n};\nexport const login = async bodyData => {\n  const endpoint = '/users/login';\n  const data = await authenticate(endpoint, bodyData);\n  return data;\n};\nexport const register = async bodyData => {\n  const endpoint = '/users/register';\n  const data = await authenticate(endpoint, bodyData);\n  return data;\n};\nexport const getMe = async token => {\n  const endpoint = '/users/me';\n  const data = await request({\n    endpoint: endpoint,\n    method: 'GET',\n    token: token\n  });\n  return data;\n};\nexport const getUserRoutinesWithToken = async (username, token) => {\n  const endpoint = `/users/${username}/routines`;\n  const data = await request({\n    endpoint: endpoint,\n    method: 'GET',\n    token: token\n  });\n  return data;\n};\nexport const getUserRoutines = async username => {\n  const endpoint = `/users/${username}/routines`;\n  const data = await request({\n    endpoint: endpoint,\n    method: 'GET'\n  });\n  return data;\n};\nexport const getMyRoutines = async token => {\n  try {\n    const user = await getMe(token);\n    const userRoutines = await getUserRoutinesWithToken(user.username, token);\n    return userRoutines;\n  } catch (error) {\n    throw error;\n  }\n};\nexport const getAllRoutines = async () => {\n  try {\n    const endpoint = `/routines`;\n    const data = await request({\n      endpoint: endpoint,\n      method: 'GET'\n    });\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\nexport const getAllActivities = async () => {\n  try {\n    const endpoint = `/activities`;\n    const data = await request({\n      endpoint: endpoint,\n      method: 'GET'\n    });\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\nexport const postActivity = async (token, name, description) => {\n  try {\n    const endpoint = '/activities';\n    const data = await request({\n      endpoint: endpoint,\n      method: 'POST',\n      body: {\n        name,\n        description\n      },\n      token\n    });\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\nexport const postRoutine = async (token, name, goal, isPublic) => {\n  try {\n    const endpoint = '/routines';\n    const data = await request({\n      endpoint: endpoint,\n      method: 'POST',\n      body: {\n        name,\n        goal,\n        isPublic\n      },\n      token\n    });\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\nexport const deleteRoutine = async (token, routineId) => {\n  try {\n    const endpoint = `/routines/${routineId}`;\n    const data = await request({\n      endpoint: endpoint,\n      method: 'DELETE',\n      token\n    });\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\nexport const deleteRoutineActivity = async (token, routineActivityId) => {\n  try {\n    const endpoint = `/routine_activities/${routineActivityId}`;\n    const data = await request({\n      endpoint: endpoint,\n      method: 'DELETE',\n      token\n    });\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};","map":{"version":3,"sources":["/Users/soondubu/Desktop/FitnessTrackr/src/util/index.js"],"names":["REACT_APP_BASE_URL","process","env","baseURL","request","endpoint","method","body","token","headers","_request","JSON","stringify","console","log","resp","fetch","data","json","error","err","authenticate","bodyData","username","password","login","register","getMe","getUserRoutinesWithToken","getUserRoutines","getMyRoutines","user","userRoutines","getAllRoutines","getAllActivities","postActivity","name","description","postRoutine","goal","isPublic","deleteRoutine","routineId","deleteRoutineActivity","routineActivityId"],"mappings":"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","sourcesContent":["const { REACT_APP_BASE_URL} = process.env;\nconst baseURL = REACT_APP_BASE_URL;\n\nexport const request = async ({endpoint, method, body, token})=>{\n    try{\n      let headers = {'Content-Type': 'application/json'}\n      if(token) headers['Authorization']=`Bearer ${token}`\n      let _request = {\n      method:method,\n      headers: headers,\n    }\n    if(body) _request['body']= JSON.stringify(body)\n    console.log(\"options\",_request)\n    const resp = await fetch(baseURL+endpoint,_request)\n    const data = await resp.json()\n    \n    console.log('apiClient', data)\n    \n    if(data.error) throw(data.error)\n    return  data ? data : null\n\n    }\n    catch(err){\n      console.error(err)\n    }\n    finally{\n    }\n}\n\n\nexport const authenticate = async (endpoint, bodyData)=>{\n    const data = await request({\n        endpoint:endpoint,\n        method:'POST',\n        body: {\n          username:bodyData.username,\n          password:bodyData.password\n        }\n      })\n    return data\n}\n\n\nexport const login = async (bodyData)=>{\n    const endpoint = '/users/login'\n    const data = await authenticate(endpoint, bodyData)\n    return data\n}\n\n\nexport const register = async (bodyData)=>{\n    const endpoint = '/users/register'\n    const data = await authenticate(endpoint, bodyData)\n    return data\n}\n\nexport const getMe = async(token)=>{\n  const endpoint = '/users/me'\n  const data = await request({\n    endpoint:endpoint, \n    method:'GET',\n    token:token\n  })\n  return data\n}\n\nexport const getUserRoutinesWithToken= async(username, token)=>{\n  const endpoint = `/users/${username}/routines`\n  const data = await request({\n    endpoint:endpoint, \n    method:'GET',\n    token:token\n  })\n  return data\n}\n\nexport const getUserRoutines= async(username)=>{\n  const endpoint = `/users/${username}/routines`\n  const data = await request({\n    endpoint:endpoint, \n    method:'GET'\n  })\n  return data\n}\nexport const getMyRoutines = async (token) =>{\n  try{\n      const user = await getMe(token)\n      const userRoutines = await getUserRoutinesWithToken(user.username, token)\n      return userRoutines\n  }catch(error){\n      throw error\n  }\n}\n  export const getAllRoutines = async () =>{\n    try{\n      const endpoint = `/routines`\n      const data = await request({\n        endpoint:endpoint, \n        method:'GET',\n      })\n      return data\n    }catch(error){\n        throw error\n    }\n}\nexport const getAllActivities = async () =>{\n  try{\n    const endpoint = `/activities`\n    const data = await request({\n      endpoint:endpoint, \n      method:'GET',\n    })\n    return data\n  }catch(error){\n      throw error\n  }\n}\n\nexport const postActivity = async (token, name, description)=>{\n  try{\n    const endpoint = '/activities'\n    const data = await request({\n      endpoint:endpoint,\n      method:'POST',\n      body:{\n        name,\n        description\n      },\n      token\n    })\n    return data\n  }catch(error){\n    throw error\n  }\n}\n\nexport const postRoutine = async (token, name, goal, isPublic)=>{\n  try{\n    const endpoint = '/routines'\n    const data = await request({\n      endpoint:endpoint,\n      method:'POST',\n      body:{\n        name,\n        goal,\n        isPublic\n      },\n      token\n    })\n    return data\n  }catch(error){\n    throw error\n  }\n}\n\nexport const deleteRoutine = async (token, routineId)=>{\n  try{\n    const endpoint = `/routines/${routineId}`\n    const data = await request({\n      endpoint:endpoint,\n      method:'DELETE',\n      token\n    })\n    return data\n  }catch(error){\n    throw error\n  }\n}\nexport const deleteRoutineActivity = async (token, routineActivityId)=>{\n  try{\n    const endpoint = `/routine_activities/${routineActivityId}`\n    const data = await request({\n      endpoint:endpoint,\n      method:'DELETE',\n      token\n    })\n    return data\n  }catch(error){\n    throw error\n  }\n}"]},"metadata":{},"sourceType":"module"}